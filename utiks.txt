utility function for varsion 2 