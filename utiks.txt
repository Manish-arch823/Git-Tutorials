utility function for varsion 1 